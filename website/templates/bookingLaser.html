{% extends "base.html" %}

{% block styles %}
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="{{ url_for('static', filename='LabManager_pj/BookingLaser/styleLaser.css') }}" />
{% endblock %}

{% block title %}Booking Laser Cutter{% endblock %}

{% block content %}
<header class="header">
    <nav>
        <div class="nav__bar">
            <div class="logo">
                <div class="lab-manager">Lab Manager</div>
                <span class="btn booking-laser">: Booking Laser Cutter</span>
                <img src="{{ url_for('static', filename='LabManager_pj/BookingLaser/img/iconLaser.png') }}" alt="bookingLaser">
            </div>
        </div>
        <a href="{{ url_for('views.home') }}" class="btn nav__btn">HOME</a>
    </nav>
</header>

<div class="main">
    <div class="info">
        <img src="{{ url_for('static', filename='LabManager_pj/BookingLaser/img/infoLaser.PNG') }}" alt="info-laser">
    </div>

    <div class="userInput">
        <div class="frame">
            <p class="underline-bg">Booking</p>
            <form method="POST">
                <!-- Equipments section -->
                <div class="equipments">
                    <p>Equipments</p>
                    <select name="booking" class="box-select-laser" required>
                        <option value="" disabled selected>Select Laser Cutter</option>
                        <option value="MIT Laser 6040">MIT Laser 6040</option>
                        <option value="TS6090L">TS6090L</option>
                        <option value="SCTECH 1390E-Series">SCTECH 1390E-Series</option>
                    </select>
                </div>

                <!-- Number Selection -->
                <div class="no-laser">
                    <p>No.</p>
                    <select id="laser-select" name="laser_number" class="no-box" required>
                        <option value="" disabled selected>Select No.</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                    </select>
                </div>

                <!-- Date Selection -->
                <div class="date-laser">
                    <p class="date">Date</p>
                    <input type="date" id="booking-date" name="booking_date" class="boxDate" required/>
                </div>

                <!-- Time Start -->
                <div class="time-start-laser">
                    <p class="time-start">Time Start</p>
                    <input type="time" id="time-start" name="booking_start_time" class="box-time-start" required/>
                </div>

                <!-- Time End -->
                <div class="time-end-laser">
                    <p class="time-end">Time End</p>
                    <input type="time" id="time-end" name="booking_end_time" class="box-time-end" required/>
                </div>

                <!-- Confirm Button -->
                <div class="button-confirm">
                    <button type="submit" class="confirm">Confirm</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.querySelector('form').addEventListener('submit', function(e) {
    const startTime = document.getElementById('time-start').value;
    const endTime = document.getElementById('time-end').value;

    if (startTime >= endTime) {
        e.preventDefault();
        alert('End time must be later than start time');
        return;
    }

    if (!document.querySelector('.box-select-laser').value || 
        !document.querySelector('.no-box').value || 
        !document.getElementById('booking-date').value || 
        !startTime || 
        !endTime) {
        e.preventDefault();
        alert('Please fill in all required fields!');
        return;
    }
});
</script>
{% endblock %}

